<div x-data="drawings()" x-init="init()" class="min-h-[200px]">
  <template x-if="loading">
    <div class="text-center text-gray-500 py-8">Cargando dibujos...</div>
  </template>
  <template x-if="!loading && error">
    <div class="alert alert-warning">
      <span x-text="error"></span>
    </div>
  </template>
  <template x-if="!loading && !error && items.length === 0">
    <div class="text-center text-gray-400 py-8">No hay dibujos disponibles. AÃ±ade archivos a public/drawings y actualiza drawings/index.json</div>
  </template>
  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4" x-show="!loading && items.length">
    <template x-for="(item, idx) in items" :key="idx">
      <div class="card bg-base-100 shadow hover:shadow-lg transition cursor-pointer" @click="open(item)">
        <figure class="aspect-[3/4] overflow-hidden bg-base-200 flex items-center justify-center">
          <template x-if="item.isImage">
            <img :src="item.src" :alt="item.title" class="w-full h-full object-contain" loading="lazy" />
          </template>
          <template x-if="!item.isImage">
            <div class="text-gray-500 text-sm p-2 text-center">
              <span class="block mb-2">Archivo</span>
              <span class="truncate max-w-[90%]" x-text="item.title"></span>
            </div>
          </template>
        </figure>
        <div class="card-body p-3">
          <h3 class="card-title text-sm" x-text="item.title"></h3>
          <button class="btn btn-sm btn-primary mt-1" @click.stop="open(item)">Ver</button>
        </div>
      </div>
    </template>
  </div>
</div>
