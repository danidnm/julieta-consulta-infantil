<div class="p-4 space-y-4" x-data="{
  supabaseUrl: localStorage.getItem('supabase.url') || '',
  supabaseKey: localStorage.getItem('supabase.key') || '',
  patientsTable: localStorage.getItem('supabase.patientsTable') || 'patients',
  reviewsTable: localStorage.getItem('supabase.reviewsTable') || 'reviews',
  photosBucket: localStorage.getItem('supabase.photosBucket') || 'patient-photos',
  message: '',
  saveSupabaseConfig() {
    localStorage.setItem('supabase.url', this.supabaseUrl.trim());
    localStorage.setItem('supabase.key', this.supabaseKey.trim());
    localStorage.setItem('supabase.patientsTable', this.patientsTable.trim() || 'patients');
    localStorage.setItem('supabase.reviewsTable', this.reviewsTable.trim() || 'reviews');
    localStorage.setItem('supabase.photosBucket', this.photosBucket.trim() || 'patient-photos');
    this.message = 'Configuración guardada';
    setTimeout(() => this.message = '', 2500);
  }
}">
  <h2 class="text-2xl font-bold text-primary text-center">⚙️ Configuración</h2>
  <div class="max-w-xl mx-auto space-y-6">
    <div class="space-y-2">
      <h3 class="font-semibold text-center">Supabase</h3>
      <div class="grid grid-cols-1 gap-2">
        <label class="form-control">
          <span class="label-text">Supabase URL</span>
          <input type="text" class="input input-bordered" placeholder="https://xxxxx.supabase.co" x-model="supabaseUrl">
        </label>
        <label class="form-control">
          <span class="label-text">Anon Key</span>
          <input type="password" class="input input-bordered" placeholder="eyJhbGci..." x-model="supabaseKey">
        </label>
        <div class="grid grid-cols-3 gap-2">
          <label class="form-control">
            <span class="label-text">Tabla pacientes</span>
            <input type="text" class="input input-bordered" placeholder="patients" x-model="patientsTable">
          </label>
          <label class="form-control">
            <span class="label-text">Tabla revisiones</span>
            <input type="text" class="input input-bordered" placeholder="reviews" x-model="reviewsTable">
          </label>
          <label class="form-control">
            <span class="label-text">Bucket fotos</span>
            <input type="text" class="input input-bordered" placeholder="patient-photos" x-model="photosBucket">
          </label>
        </div>
        <div class="flex justify-center">
          <button class="btn" @click="saveSupabaseConfig()">Guardar configuración</button>
        </div>
        <p class="text-center text-xs text-gray-500" x-text="message"></p>
      </div>
    </div>
  </div>
</div>
